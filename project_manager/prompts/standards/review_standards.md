# 评审标准

## 评审原则

### 基本原则
1. **客观公正**：基于事实和标准进行评估
2. **重点突出**：每次只关注一个最重要的改进点
3. **建设性**：提供具体、可操作的改进建议
4. **全面性**：从多个维度评估工作质量
5. **规整化**：按照标准格式输出评审结果

### 问题分级标准
- **Critical (严重)**：必须修复，影响核心功能或安全性
- **Major (重要)**：应该修复，影响功能正确性或用户体验
- **Minor (轻微)**：建议改进，提升代码质量或性能

## 各阶段评审标准

### BASIC_DESIGN 阶段评审标准
- **业务完整性 (30%)**：需求覆盖是否完整
- **数据库设计 (25%)**：数据库结构是否合理
- **架构合理性 (25%)**：系统架构是否清晰
- **接口定义 (20%)**：API接口是否明确

### DETAIL_DESIGN 阶段评审标准
- **类设计 (30%)**：类结构是否合理
- **数据结构 (25%)**：数据结构设计是否恰当
- **算法合理性 (25%)**：算法设计是否高效
- **模块耦合 (20%)**：模块间耦合是否合理

### DEVELOPMENT 阶段评审标准
- **功能完整性 (35%)**：功能实现是否完整
- **代码规范 (25%)**：代码是否符合规范
- **异常处理 (20%)**：异常处理是否完善
- **性能优化 (20%)**：性能是否优化

### UNIT_TEST 阶段评审标准
- **测试覆盖 (35%)**：测试覆盖率是否达标
- **边界测试 (30%)**：边界条件是否测试
- **异常测试 (35%)**：异常情况是否测试

### INTEGRATION_TEST 阶段评审标准
- **集成完整性 (40%)**：系统集成是否完整
- **性能达标 (30%)**：性能是否达标
- **稳定性 (30%)**：系统是否稳定

## 阶段转换条件

### 通过条件
- **BASIC_DESIGN**：总分 ≥ 80分，无Critical问题
- **DETAIL_DESIGN**：总分 ≥ 80分，无Critical问题
- **DEVELOPMENT**：总分 ≥ 85分，无Critical问题
- **UNIT_TEST**：总分 ≥ 90分，无Critical问题
- **INTEGRATION_TEST**：总分 ≥ 95分，无Critical问题

### 迭代限制
- **BASIC_DESIGN**：最多5次迭代
- **DETAIL_DESIGN**：最多4次迭代
- **DEVELOPMENT**：最多4次迭代
- **UNIT_TEST**：最多3次迭代
- **INTEGRATION_TEST**：最多3次迭代

### 回退触发条件
- **BASIC_DESIGN**：数据库设计无法支持、架构存在根本缺陷
- **DETAIL_DESIGN**：数据库设计无法支持、架构存在根本缺陷
- **DEVELOPMENT**：数据结构无法实现、算法逻辑漏洞
- **UNIT_TEST**：核心功能测试失败、设计缺陷
- **INTEGRATION_TEST**：系统集成失败、性能不达标

## 评审输出格式

### 标准评审报告格式
```
## 评审结果

**总分：XX分**

**检查项得分：**
- [检查项1]：XX分
- [检查项2]：XX分
- [检查项3]：XX分
- [检查项4]：XX分

**发现的问题：**
- [级别] 问题描述

**最重要的改进建议：**
[按照标准格式输出问题分析]
```

### 问题分析标准格式
```
## 问题分析

### 1. 问题代码
```代码块
[具体的问题代码片段，包含足够的上下文]
```

### 2. 问题原因
[详细分析问题的根本原因，包括技术原因和设计原因]

### 3. 修改方法
[提供具体的修改方案，包括代码示例和实现步骤]

### 4. 注意事项
[修改过程中需要规避的潜在影响，包括：
- 可能影响的其他代码部分
- 需要同步修改的相关文件
- 测试时需要关注的点
- 性能或安全方面的考虑]
```
